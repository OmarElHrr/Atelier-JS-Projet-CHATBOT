{"ast":null,"code":"import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/message.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"scrollMe\"];\nfunction HelpSupportComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const message_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(message_r3.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", message_r3.message, \" \");\n  }\n}\nfunction HelpSupportComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\");\n    i0.ɵɵtext(2, \"...\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(\"client\");\n  }\n}\nexport class HelpSupportComponent {\n  constructor(messageService) {\n    this.messageService = messageService;\n    this.isOpen = true;\n    this.loading = false;\n    this.messages = [];\n    this.chatForm = new FormGroup({\n      message: new FormControl('', [Validators.required])\n    });\n    this.messages.push({\n      type: 'client',\n      message: 'Hi, I am your support agent. How can I help you?'\n    });\n  }\n  openSupportPopup() {\n    this.isOpen = !this.isOpen;\n  }\n  sendMessage() {\n    const sentMessage = this.chatForm.value.message;\n    this.loading = true;\n    this.messages.push({\n      type: 'user',\n      message: sentMessage\n    });\n    this.chatForm.reset();\n    this.scrollToBottom();\n    this.messageService.sendMessage(sentMessage).subscribe(response => {\n      this.loading = false;\n      this.messages.push({\n        type: 'client',\n        message: response.message\n      });\n      this.scrollToBottom();\n    });\n  }\n  scrollToBottom() {\n    setTimeout(() => {\n      try {\n        this.myScrollContainer.nativeElement.scrollTop = this.myScrollContainer.nativeElement.scrollHeight + 500;\n      } catch (err) {}\n    }, 150);\n  }\n}\nHelpSupportComponent.ɵfac = function HelpSupportComponent_Factory(t) {\n  return new (t || HelpSupportComponent)(i0.ɵɵdirectiveInject(i1.MessageService));\n};\nHelpSupportComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HelpSupportComponent,\n  selectors: [[\"app-help-support\"]],\n  viewQuery: function HelpSupportComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.myScrollContainer = _t.first);\n    }\n  },\n  decls: 13,\n  vars: 6,\n  consts: [[\"id\", \"helpdesk\"], [\"id\", \"helpdesk-popup\"], [\"id\", \"helpdesk-popup-header\"], [\"id\", \"helpdesk-popup-body\"], [1, \"messages\"], [\"scrollMe\", \"\"], [\"class\", \"message\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"message\", \"style\", \"width: 100%; display: block\", 4, \"ngIf\"], [\"id\", \"helpdesk-popup-footer\", 3, \"formGroup\"], [\"formControlName\", \"message\", \"type\", \"text\", \"id\", \"helpdesk-popup-input\", \"placeholder\", \"Type your message here...\"], [\"id\", \"helpdesk-popup-submit-button\", 3, \"disabled\", \"click\"], [1, \"message\"], [1, \"message\", 2, \"width\", \"100%\", \"display\", \"block\"]],\n  template: function HelpSupportComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵtext(3, \" IID SUPPORT \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4, 5);\n      i0.ɵɵtemplate(7, HelpSupportComponent_div_7_Template, 3, 3, \"div\", 6);\n      i0.ɵɵtemplate(8, HelpSupportComponent_div_8_Template, 3, 2, \"div\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"form\", 8);\n      i0.ɵɵelement(10, \"input\", 9);\n      i0.ɵɵelementStart(11, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function HelpSupportComponent_Template_button_click_11_listener() {\n        return ctx.sendMessage();\n      });\n      i0.ɵɵtext(12, \" Envoyer \");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵstyleProp(\"display\", ctx.isOpen ? \"block\" : \"none\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.chatForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.chatForm.valid);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap)[_ngcontent-%COMP%];#helpdesk[_ngcontent-%COMP%] {\\n  font-family: \\\"Roboto\\\", sans-serif;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup-button[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 20px;\\n  right: 20px;\\n  padding: 10px 30px;\\n  background-color: #333;\\n  color: #ffffff;\\n  border: none;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  font-size: 14px;\\n  z-index: 1000;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 40px;\\n  right: 20px;\\n  width: 1000px;\\n  height: 90vh;\\n  min-height: 450px;\\n  background-color: white;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\\n  border-radius: 5px;\\n  z-index: 1000;\\n  display: none;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%]   #helpdesk-popup-header[_ngcontent-%COMP%] {\\n  background-color: #333;\\n  color: white;\\n  font-size: 18px;\\n  padding: 10px;\\n  border-top-left-radius: 5px;\\n  border-top-right-radius: 5px;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%]   #helpdesk-popup-header[_ngcontent-%COMP%]   #helpdesk-popup-close-button[_ngcontent-%COMP%] {\\n  float: right;\\n  border: none;\\n  background-color: transparent;\\n  color: #fff;\\n  font-size: 14px;\\n  cursor: pointer;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%]   #helpdesk-popup-body[_ngcontent-%COMP%] {\\n  height: calc(100% - 133px);\\n  padding: 10px;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%]   #helpdesk-popup-footer[_ngcontent-%COMP%] {\\n  background-color: #333;\\n  color: white;\\n  font-size: 14px;\\n  padding: 10px;\\n  border-bottom-left-radius: 5px;\\n  border-bottom-right-radius: 5px;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%]   #helpdesk-popup-footer[_ngcontent-%COMP%]   #helpdesk-popup-input[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #fff;\\n  border-radius: 5px 5px 0 0;\\n  box-sizing: border-box;\\n  font-size: 14px;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%]   #helpdesk-popup-footer[_ngcontent-%COMP%]   #helpdesk-popup-submit-button[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  background-color: #0000ff;\\n  color: #fff;\\n  border: none;\\n  border-radius: 0 0 5px 5px;\\n  cursor: pointer;\\n  font-size: 14px;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%] {\\n  height: 100%;\\n  overflow: auto;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%] {\\n  display: flow-root;\\n  width: 100%;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%] {\\n  background-color: #333;\\n  color: white;\\n  padding: 10px;\\n  border-radius: 5px;\\n  margin-bottom: 10px;\\n  display: inline-block;\\n  max-width: 80%;\\n}\\n#helpdesk[_ngcontent-%COMP%]   #helpdesk-popup[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%] {\\n  border: 0.5px solid #333;\\n  background-color: #fff;\\n  color: #333;\\n  padding: 10px;\\n  border-radius: 5px;\\n  margin-bottom: 10px;\\n  display: inline-block;\\n  max-width: 80%;\\n  text-align: right;\\n  float: right;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvaGVscC1zdXBwb3J0L2hlbHAtc3VwcG9ydC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGlDQUFBO0FBQUY7QUFFRTtFQUNFLGVBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0FBQUo7QUFHRTtFQUNFLGVBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSx1QkFBQTtFQUNBLHVDQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtBQURKO0FBR0k7RUFDRSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLDJCQUFBO0VBQ0EsNEJBQUE7QUFETjtBQUdNO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSw2QkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQURSO0FBS0k7RUFDRSwwQkFBQTtFQUNBLGFBQUE7QUFITjtBQU1JO0VBQ0Usc0JBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7RUFDQSw4QkFBQTtFQUNBLCtCQUFBO0FBSk47QUFNTTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSwwQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZUFBQTtBQUpSO0FBT007RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSwwQkFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FBTFI7QUFTSTtFQUNFLFlBQUE7RUFDQSxjQUFBO0FBUE47QUFTTTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtBQVBSO0FBU1E7RUFDRSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0VBQ0EsY0FBQTtBQVBWO0FBVVE7RUFDRSx3QkFBQTtFQUNBLHNCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FBUlYiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IHVybChcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9Um9ib3RvOndnaHRANDAwOzcwMCZkaXNwbGF5PXN3YXBcIik7XHJcblxyXG4jaGVscGRlc2sge1xyXG4gIGZvbnQtZmFtaWx5OiBcIlJvYm90b1wiLCBzYW5zLXNlcmlmO1xyXG5cclxuICAjaGVscGRlc2stcG9wdXAtYnV0dG9uIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMjBweDtcclxuICAgIHJpZ2h0OiAyMHB4O1xyXG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgei1pbmRleDogMTAwMDtcclxuICB9XHJcblxyXG4gICNoZWxwZGVzay1wb3B1cCB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBib3R0b206IDQwcHg7XHJcbiAgICByaWdodDogMjBweDtcclxuICAgIHdpZHRoOiAxMDAwcHg7XHJcbiAgICBoZWlnaHQ6IDkwdmg7XHJcbiAgICBtaW4taGVpZ2h0OiA0NTBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgei1pbmRleDogMTAwMDtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcblxyXG4gICAgI2hlbHBkZXNrLXBvcHVwLWhlYWRlciB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XHJcbiAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiA1cHg7XHJcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA1cHg7XHJcblxyXG4gICAgICAjaGVscGRlc2stcG9wdXAtY2xvc2UtYnV0dG9uIHtcclxuICAgICAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAjaGVscGRlc2stcG9wdXAtYm9keSB7XHJcbiAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gMTMzcHgpO1xyXG4gICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgfVxyXG5cclxuICAgICNoZWxwZGVzay1wb3B1cC1mb290ZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNXB4O1xyXG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNXB4O1xyXG5cclxuICAgICAgI2hlbHBkZXNrLXBvcHVwLWlucHV0IHtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmY7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4IDVweCAwIDA7XHJcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICNoZWxwZGVzay1wb3B1cC1zdWJtaXQtYnV0dG9uIHtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAwZmY7XHJcbiAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDAgMCA1cHggNXB4O1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAubWVzc2FnZXMge1xyXG4gICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xyXG5cclxuICAgICAgLm1lc3NhZ2Uge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsb3ctcm9vdDtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmNsaWVudCB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICBtYXgtd2lkdGg6IDgwJTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC51c2VyIHtcclxuICAgICAgICAgIGJvcmRlcjogMC41cHggc29saWQgIzMzMztcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICBjb2xvcjogIzMzMztcclxuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgbWF4LXdpZHRoOiA4MCU7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgICAgICAgIGZsb2F0OiByaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,SAAS,EAAEC,WAAW,EAAEC,UAAU,QAAQ,gBAAgB;;;;;;;;ICM3DC,+BAAsD;IAElDA,YACF;IAAAA,iBAAM;;;;IAFDA,eAAsB;IAAtBA,8BAAsB;IACzBA,eACF;IADEA,mDACF;;;;;IAEFA,+BAIC;IACyBA,mBAAG;IAAAA,iBAAM;;;IAA5BA,eAAkB;IAAlBA,uBAAkB;;;ADHjC,OAAM,MAAOC,oBAAoB;EAS/BC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IARlC,WAAM,GAAG,IAAI;IACb,YAAO,GAAG,KAAK;IACf,aAAQ,GAAc,EAAE;IACxB,aAAQ,GAAG,IAAIN,SAAS,CAAC;MACvBO,OAAO,EAAE,IAAIN,WAAW,CAAC,EAAE,EAAE,CAACC,UAAU,CAACM,QAAQ,CAAC;KACnD,CAAC;IAIA,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC;MACjBC,IAAI,EAAE,QAAQ;MACdJ,OAAO,EAAE;KACV,CAAC;EACJ;EAEAK,gBAAgB;IACd,IAAI,CAACC,MAAM,GAAG,CAAC,IAAI,CAACA,MAAM;EAC5B;EAEAC,WAAW;IACT,MAAMC,WAAW,GAAG,IAAI,CAACC,QAAQ,CAACC,KAAK,CAACV,OAAQ;IAChD,IAAI,CAACW,OAAO,GAAG,IAAI;IACnB,IAAI,CAACT,QAAQ,CAACC,IAAI,CAAC;MACjBC,IAAI,EAAE,MAAM;MACZJ,OAAO,EAAEQ;KACV,CAAC;IACF,IAAI,CAACC,QAAQ,CAACG,KAAK,EAAE;IACrB,IAAI,CAACC,cAAc,EAAE;IACrB,IAAI,CAACd,cAAc,CAACQ,WAAW,CAACC,WAAW,CAAC,CAACM,SAAS,CAAEC,QAAa,IAAI;MACvE,IAAI,CAACJ,OAAO,GAAG,KAAK;MACpB,IAAI,CAACT,QAAQ,CAACC,IAAI,CAAC;QACjBC,IAAI,EAAE,QAAQ;QACdJ,OAAO,EAAEe,QAAQ,CAACf;OACnB,CAAC;MACF,IAAI,CAACa,cAAc,EAAE;IACvB,CAAC,CAAC;EACJ;EAEAA,cAAc;IACZG,UAAU,CAAC,MAAK;MACd,IAAI;QACF,IAAI,CAACC,iBAAiB,CAACC,aAAa,CAACC,SAAS,GAC5C,IAAI,CAACF,iBAAiB,CAACC,aAAa,CAACE,YAAY,GAAG,GAAG;OAC1D,CAAC,OAAOC,GAAG,EAAE;IAChB,CAAC,EAAE,GAAG,CAAC;EACT;;AA9CWxB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAyB;EAAAC;IAAA;;;;;;;;;;;;;MCdjC3B,8BAAmB;MAGbA,6BACF;MAAAA,iBAAM;MACNA,8BAA8B;MAE1BA,qEAIM;MACNA,qEAMM;MACRA,iBAAM;MAERA,+BAAwD;MACtDA,4BAKE;MACFA,mCAIC;MADCA;QAAA,OAAS4B,iBAAa;MAAA,EAAC;MAEvB5B,0BACF;MAAAA,iBAAS;;;MAjCYA,eAA2C;MAA3CA,wDAA2C;MAMrCA,eAAW;MAAXA,sCAAW;MAMjCA,eAAa;MAAbA,kCAAa;MAQaA,eAAsB;MAAtBA,wCAAsB;MASnDA,eAA4B;MAA5BA,8CAA4B","names":["FormGroup","FormControl","Validators","i0","HelpSupportComponent","constructor","messageService","message","required","messages","push","type","openSupportPopup","isOpen","sendMessage","sentMessage","chatForm","value","loading","reset","scrollToBottom","subscribe","response","setTimeout","myScrollContainer","nativeElement","scrollTop","scrollHeight","err","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\omare\\OneDrive\\Desktop\\projet_js\\projet\\chatbot\\src\\app\\shared\\components\\help-support\\help-support.component.ts","C:\\Users\\omare\\OneDrive\\Desktop\\projet_js\\projet\\chatbot\\src\\app\\shared\\components\\help-support\\help-support.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { MessageService } from '../../service/message.service';\r\n\r\nexport interface Message {\r\n  type: string;\r\n  message: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-help-support',\r\n  templateUrl: './help-support.component.html',\r\n  styleUrls: ['./help-support.component.scss'],\r\n})\r\nexport class HelpSupportComponent {\r\n  isOpen = true;\r\n  loading = false;\r\n  messages: Message[] = [];\r\n  chatForm = new FormGroup({\r\n    message: new FormControl('', [Validators.required]),\r\n  });\r\n  @ViewChild('scrollMe') private myScrollContainer: any;\r\n\r\n  constructor(private messageService: MessageService) {\r\n    this.messages.push({\r\n      type: 'client',\r\n      message: 'Hi, I am your support agent. How can I help you?',\r\n    });\r\n  }\r\n\r\n  openSupportPopup() {\r\n    this.isOpen = !this.isOpen;\r\n  }\r\n\r\n  sendMessage() {\r\n    const sentMessage = this.chatForm.value.message!;\r\n    this.loading = true;\r\n    this.messages.push({\r\n      type: 'user',\r\n      message: sentMessage,\r\n    });\r\n    this.chatForm.reset();\r\n    this.scrollToBottom();\r\n    this.messageService.sendMessage(sentMessage).subscribe((response: any) => {\r\n      this.loading = false;\r\n      this.messages.push({\r\n        type: 'client',\r\n        message: response.message,\r\n      });\r\n      this.scrollToBottom();\r\n    });\r\n  }\r\n\r\n  scrollToBottom() {\r\n    setTimeout(() => {\r\n      try {\r\n        this.myScrollContainer.nativeElement.scrollTop =\r\n          this.myScrollContainer.nativeElement.scrollHeight + 500;\r\n      } catch (err) {}\r\n    }, 150);\r\n  }\r\n}\r\n","<div id=\"helpdesk\">\r\n  <div id=\"helpdesk-popup\" [style.display]=\"isOpen ? 'block' : 'none'\">\r\n    <div id=\"helpdesk-popup-header\">\r\n      IID SUPPORT \r\n    </div>\r\n    <div id=\"helpdesk-popup-body\">\r\n      <div class=\"messages\" #scrollMe>\r\n        <div *ngFor=\"let message of messages\" class=\"message\">\r\n          <div [class]=\"message.type\">\r\n            {{ message.message }}\r\n          </div>\r\n        </div>\r\n        <div\r\n          *ngIf=\"loading\"\r\n          class=\"message\"\r\n          style=\"width: 100%; display: block\"\r\n        >\r\n          <div [class]=\"'client'\">...</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <form id=\"helpdesk-popup-footer\" [formGroup]=\"chatForm\">\r\n      <input\r\n        formControlName=\"message\"\r\n        type=\"text\"\r\n        id=\"helpdesk-popup-input\"\r\n        placeholder=\"Type your message here...\"\r\n      />\r\n      <button\r\n        id=\"helpdesk-popup-submit-button\"\r\n        [disabled]=\"!chatForm.valid\"\r\n        (click)=\"sendMessage()\"\r\n      >\r\n        Envoyer\r\n      </button>\r\n    </form>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}